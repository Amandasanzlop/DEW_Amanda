<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>

//1. Realizar una función que indicando un texto y un carácter (ambos obligatorios, comprobar que el segundo parámetro es realmente un único carácter), nos 
//diga cuántas veces aparece el carácter en el texto.


// function contarCaracter(texto, letra){

//     if(texto == undefined || letra == undefined || texto.length <= 0 ){
//         throw ("Es obligatorio introducir un texto y una letra.");
//     }else{

//     var contador = 0;

//     if(letra.length != 1){
//         throw ("Error. Sólo se admite una letra");   
//     }else{
//         for(i=0;i< texto.length;i++){
//             var caracter = texto.slice(i, i+1);
//             if(caracter == letra){
//                 contador += 1;
//             }
//         }
//     }
//     return contador;
// }
// }

// var letraValida = false;

// do{
//     try{
//         var textoUsuario = prompt("Introduzca un texto:");
//         var letraUsuario = prompt("Introduzca una letra:");
//         alert("La letra " + letraUsuario + " se repite " + contarCaracter(textoUsuario, letraUsuario) + " veces en el texto.");
//         letraValida = true;
//     }catch(ex){
//         alert(ex);
//         letraValida = false;
//     }
// }while(letraValida == false);






//2. Escribir una función que acepte al menos un argumento (el primer argumento debe ser obligatorio, mostrar un mensaje de error si no se indica, luego se
// pueden indicar tantos argumentos como desee el usuario) y que devuelva la suma y la media de todos los elementos. Comprobar que todos los argumentos sean
// números e ignorar los que no lo sean, mostrando un aviso (por ejemplo: ¡AVISO! El argumento número 3 "Hola" no es un número, lo ignoramos").

// function calcularSumaYMedia(num, ...num2){  // El primer elemento del array es num, los demás opcionales num2.
//     if(num == undefined || num == null){   
//         throw "Error. Debe introducir, al menos, un número.";
//     }else{
//     var suma = num;
//     var media = 0;
//     var contadorElementos = 1;

//     for(i=0;i<num2.length;i++){
//         suma += num2[i];
//         contadorElementos += 1;
//     }

//     media = suma / contadorElementos;

//     var resultado = [suma, media];
//         return resultado;

//     }


   
// }


// var finalizar = false;
// var numeros = [];

// do{
// var respuestaUsuario = (prompt("¿Desea introducir un número?"));
// console.log(respuestaUsuario);

// switch(respuestaUsuario.toLowerCase()){
//     case 'si':
//         var numUsuario = parseInt(prompt("Introduzca un número:"));
//         numeros.push(numUsuario);
//         finalizar = false;
//     break;
        
//     case 'no':
//         alert("De acuerdo.");
//         console.log("De acuerdo.");
//         finalizar = true;
//     break;

//     default:
//         console.log("Lo siento, no he entendido su respuesta.");
//         alert("Lo siento, no he entendido su respuesta.");
//         finalizar = false;
//         break;
// }
// }while(finalizar == false);

// var resultado = calcularSumaYMedia(...numeros); //Se expande el array. Se pasa el primer elemento como el parámetro num, los demás como parámetros opcinales de la función.
// alert("La suma de los números es: " + resultado[0]);
// console.log("La suma de los números es: " + resultado[0]);

// alert("La media de los números es: " + resultado[1]);
// console.log("La media de los números es: " + resultado[1]);







//3. Realizar una función en JS que dado un DNI (comprobar que es un número entre 0 y 99999999), devuelva la letra asociado al mismo. Esta letra se 
//calcula como el módulo (resto) de la división del número del DNI entre 23, y a partir del resto se escoge una de las siguientes letras según la posición:
// TRWAGMYFPDXBNJZSQVHLCKET. Por ejemplo, para el DNI 12345678, al dividir entre 23 se obtiene como resto 14, por lo que le corresponde la letra 'Z', siendo
// el DNI correcto 12345678Z.

// function calcularLetraDni(num){

//     if(num >= 0 && num <= 99999999){
//         var resto = numNif % 23;
//         var cadena = 'TRWAGMYFPDXBNJZSQVHLCKE';
//         var letra = cadena.slice(resto, resto+1);
//         return letra;
//     }else{
//         throw "Error. El número no es válido.";
//     }
// }


//     var numNif = parseInt(prompt("Introduzca su número de NIF:"));
    
//     try{
//         alert("Su letra es la " + calcularLetraDni(numNif));
//     }catch(ex){
//         alert(ex);
//     }

   
    
        




//4. Crear una función que genere un array aleatorio, usando 3 parámetros: número de elementos (por defecto 10, valor mínimo del elemento (por defecto 100),
// valor máximo (por defecto 200).
 
function generarArray(numElementos = 10, valorMinimo = 100, valorMaximo = 200){
  
  var arrayAleatorio = [];

// Se calcula el rango dividiendo a la mitad y restando 1 porque va a
// incluir el 0 como extremo inferior, así que debe excluir el extremo 
// superior para no desbordar.
  var rango = ((valorMaximo - valorMinimo) / 2) -1;

  for(i=0;i<numElementos;i++){
 
    var numAleatorio = 2 * Math.floor(Math.random() * rango) +1 + valorMinimo; // Se trunca porque necesitamos números enteros.
    arrayAleatorio.push(numAleatorio);
  }
  return arrayAleatorio;
}

// generarArray().forEach(element => console.log(element));







//5. Usando la función del ejercicio 4, generar un array aleatorio de 20 elementos entre 20 y 100 y luego ordenarlo.
 
//  var arrayAleatorio = generarArray(20, 20, 100);
//  var finalizar;

// do{
//     finalizar = true;
//     for(i=0;i<arrayAleatorio.length -1;i++){
//         if(arrayAleatorio[i] < arrayAleatorio[i+1]){
//             var temp = arrayAleatorio[i];
//             arrayAleatorio[i] = arrayAleatorio[i+1];
//             arrayAleatorio[i+1] = temp;
//             finalizar = false;
//         }
        
//     }


// }while(finalizar == false);

// arrayAleatorio.forEach(element => console.log(element));
 






//6. Crear una función que mezcle los elementos de un array en orden aleatorio. Probar con el array ordenado creado en el ejercicio anterior.

// function ordenarArrayAleatoriamente(array){
//     array.sort(() => Math.random() - 0.5);
//     return array;
// }

// ordenarArrayAleatoriamente(arrayAleatorio);
// arrayAleatorio.forEach(element => console.log(element));







//7. Recorrer un array aleatorio generado con la función del ejercicio 4 (15 elementos entre -10 y 20) y para cada elemento x, gestionar un nuevo 
//array de la siguiente forma:

    // x <= -5: Eliminar el primer elemento del array
    // -5 < x <= 0: Eliminar el último elemento del array
    // 0 < x <=  10: Añadir x al principio del array
    // 10 < x <=  10: Añadir x al final del array

//Mostrar un mensaje de texto para cada número indicando el valor de x, la operación realizada (eliminar o añadir, al principio o al final), el
// número añadido/eliminado y el tamaño del array tras realizar la operación.
     
// var listaNum = generarArray(15,-10,20);






//8. Crear una función que acepte un array y devuelva otro array con la raíz cuadrada de cada elemento. Probar con un array aleatorio de 20 números entre 60 y 100.
  
//   function calcularRaizCuadrada(listaNum){
//     for (i=0;i<listaNum.length;i++){
//         listaNum[i] = Math.sqrt(listaNum[i]);
//     }
//     return listaNum;
//   }

// var arrayAleatorio = generarArray(20,60,100);
// arrayAleatorio.forEach(element => console.log(element));

// console.log("El array modificado es: ");

// arrayAleatorioConRaiz = calcularRaizCuadrada(arrayAleatorio);
// arrayAleatorioConRaiz.forEach(element => console.log(element));







//9. Crear una función que devuelva el valor máximo y mínimo del array, e indique el índice de estos valores (si el valor se repite, informar sólo sobre
// la primera vez que aparezca). Probar con un array aleatorio de 20 números entre -100 y 100.

// function calcularMinMaxArray(array){
//     var numMayor = -200;
//     var numMenor = 200;
//     var posMayor = 0;
//     var posMayor = 0;

//     for(i=0;i<array.length;i++){
//         if(array[i] > numMayor){
//             numMayor = array[i];
//             posMayor = i;
//         }else if(array[i] < numMenor){
//             numMenor = array[i];
//             posMenor = i;
//         }
//     }
//     return "Valor máximo: " + numMayor + "Posición: " + posMayor + " Valor mínimo: " + numMenor + " Posición: " + posMenor;
// }


// var arrayAleatorio = generarArray(20,-100,100);
// arrayAleatorio.forEach(element => console.log(element));
// console.log(calcularMinMaxArray(arrayAleatorio));





//10. Crear un array de 50 números aleatorios enteros aleatorios entre 10 y 20. Para cada elemento, informar si es la primera vez que aparece, 
//o si se trata de un elemento repetido.
  
// var arrayAleatorio = generarArray(50,10,20);
// console.log(arrayAleatorio);

// var numerosAlmacenados = []; //Array para almacenar los números que hayan salido anteriormente.
// numerosAlmacenados[0] = arrayAleatorio[0]; //Se almacena el primer valor del array aleatorio.
//console.log(arrayAleatorio[0] + " -> Primera vez que aparece.");


// var estaRepetido;

// for(i=1;i<arrayAleatorio.length;i++){

// estaRepetido = false;


//     for(j=0;j<numerosAlmacenados.length  && !estaRepetido;j++){
//         if(arrayAleatorio[i] == numerosAlmacenados[j]){
//           estaRepetido = true;
//           console.log(arrayAleatorio[i] + " -> Está repetido.");
        
//         }
//     }

//     if(!estaRepetido){
//       console.log(arrayAleatorio[i] + " -> Primera vez que aparece.")
//      }

//   numerosAlmacenados.push(arrayAleatorio[i]);
// }





//11. Modificar el ejercicio anterior para que si el número ya existía, nos indique cuántas veces había aparecido con anterioridad.

// var arrayAleatorio = generarArray(50,10,20);
// console.log(arrayAleatorio);

// var numerosAlmacenados = []; //Array para almacenar los números que hayan salido anteriormente.
// numerosAlmacenados[0] = arrayAleatorio[0]; //Se almacena el primer valor del array aleatorio.
// console.log(arrayAleatorio[0] + " -> Primera vez que aparece.");

// var estaRepetido;
// var contador;

// for(i=1;i<arrayAleatorio.length;i++){

// estaRepetido = false;
// contador = 0;

//     for(j=0;j<numerosAlmacenados.length  && !estaRepetido;j++){
//         if(arrayAleatorio[i] == numerosAlmacenados[j]){  
//           for(k=0;k<numerosAlmacenados.length;k++){ //Si está repetido, se recorre el almacén para contar cuántas veces ha aparecido.
//             if(numerosAlmacenados[k] == arrayAleatorio[i]){
//               contador ++;
//             }
//           }
//           estaRepetido = true;
//           console.log(arrayAleatorio[i] + " -> Está repetido. Ha aparecido " + contador + " veces anteriormente.");
        
//         }
//     }

//     if(!estaRepetido){
//       console.log(arrayAleatorio[i] + " -> Primera vez que aparece.")
//      }

//   numerosAlmacenados.push(arrayAleatorio[i]);
// }





// 12. Escribir una función que busque la cadena "arriba" en un texto. La función deberá informar si encuentra o no esta cadena en el texto y,
// si la encuentra, nos deberá mostrar el texto reemplazando "arriba" por "abajo"

// function buscarCadena(texto){
//     var expresion = /arriba/g; //Global se queda con toda la coincidencia dentro del texto, aunque aparezca varias veces.

//     if(expresion.test(texto)){
//         console.log("Se ha encontrado la cadena.");
//         console.log(texto.replace(expresion, "abajo"));
//     }else{
//         console.log("No se ha encontrado la cadena");
//     }
// }

// buscarCadena("Estoy arriba mirando para arriba.");

















    </script>
</body>
</html>